{% extends "base.html" %} 
{% block title %} Day Schedule - PyCon Togo 2025 {% endblock %} 
{% block style %}
<script src="../static/js/main.js" defer></script>
<script src="../static/js/coming-soon.js" defer></script>
<script src="../static/js/schedule.js" defer></script>
<link rel="stylesheet" href="../static/css/coming-soon.css" />
<link rel="stylesheet" href="../static/css/schedule.css" />
{% endblock %} 

{% block content %}
<section class="page-content" id="program">
  <div class="schedule-container">
    <!-- Header -->
    <div class="schedule-header">
      <h1>Talks and Workshops Schedule</h1>
      <p>Let's Build the Future with Python üêç</p>
    </div>

    <!-- Schedule Grid -->
    <div class="schedule-grid">
      {% for session in schedule %}
        <div class="session-card {{ session.type }}" data-session-id="{{ session.id }}">
          <div class="time-ribbon {% if session.type == 'break' %}break-ribbon{% endif %}">
            <span class="time-text">{{ session.start_time }}<br />‚Äì<br />{{ session.end_time }}</span>
          </div>
          <div class="session-content">
            <h3>{{ session.title }}</h3>
            {% if session.subtitle %}
              <div class="session-subtitle">{{ session.subtitle }}</div>
            {% endif %}
            {% if session.description_short %}
              <div class="session-description" title="{{ session.description_full }}">
                {{ session.description_short }}
              </div>
            {% endif %}
            {% if session.speakers %}
              <div class="avatars-container">
                <div class="avatars">
                  {% for speaker in session.speakers %}
                    <div class="avatar avatar-{{ loop.index }}">
                      {% if speaker in speaker_images %}
                        <img
                          class="avatar avatar-{{ loop.index }}"
                          src="{{ speaker_images[speaker] }}"
                          alt="Speaker {{ loop.index }}"
                        />
                      {% endif %}
                    </div>
                  {% endfor %}
                </div>
                <span class="participant-count">{{ session.participant_count }} {{ session.participant_label }}</span>
              </div>
            {% endif %}
            <div class="session-duration">{{ session.duration }} min</div>
          </div>
        </div>
      {% endfor %}
    </div>

    <!-- Footer -->
    <div class="schedule-footer">
      <p>
        Join us in celebrating Python and building the tech community in Togo!
        üêçüáπüá¨
      </p>
    </div>

    <!-- Session Details Modal -->
    <div id="session-modal" class="modal-overlay" style="display: none;">
      <div class="modal-content">
        <div class="modal-header">
          <h2 id="modal-title"></h2>
          <button class="modal-close" aria-label="Close modal">&times;</button>
        </div>
        <div class="modal-body">
          <div class="session-time-info">
            <div class="time-slot">
              <span class="time-label">Time:</span>
              <span id="modal-time"></span>
            </div>
            <div class="duration-info">
              <span class="duration-label">Duration:</span>
              <span id="modal-duration"></span>
            </div>
          </div>
          
          <div id="modal-subtitle" class="session-subtitle-modal"></div>
          
          <div class="session-description-full">
            <h4>About this session</h4>
            <p id="modal-description"></p>
          </div>
          
          <div id="modal-speakers" class="speakers-section"></div>
        </div>
      </div>
    </div>

    <!-- Hidden session data for JavaScript -->
    <script type="application/json" id="session-data">
      {{ schedule | tojson | safe }}
    </script>
    <script type="application/json" id="speaker-images">
      {{ speaker_images | tojson | safe }}
    </script>
  </div>
</section>
{% endblock %}
